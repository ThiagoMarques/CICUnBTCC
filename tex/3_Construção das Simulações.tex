
\section{Os territórios}

O primeiro território analisado foi o bairro Santa Luzia, localizado na cidade Estrutural em Brasília, Distrito Federal.  Dentro do Distrito Federal existe a Cidade Estrutural como uma das regiões administrativas, uma localidade urbana que compõem o Setor Complementar de Indústria e Abastecimento – SCIA, \cite{souza2016nao}.
A cidade surgiu por volta da década de 1960 após a inauguração de Brasília. Nomeada como Lixão da Estrutural a área passou a ser utilizada para descargo de lixos provenientes da cidade. A partir do início dessa área sugiram os primeiros catadores de matérias reutilizáveis e recicláveis o que desencadeou ao redor do aterro sanitário a construção de casas. Em meados de 1990, próximo ao Lixão da Estrutural, já contava com quase 100 mil domicílios, o que chamou a atenção do Governo para que tomasse algumas providências. \cite{souza2016nao}.
Dentro da Cidade Estrutural existe o Setor de Chácara Santa Luzia, surgiu junto à invasão da Cidade estrutural em meados de 1996 , por um grupo populacional que se apropriou da área, que antes é considerada rural. De acordo com o Censo de 2010 os dados realizados pelo Instituto Brasileiro de Geografia e Estatísticas (IBGE), classificam o Setor de Chácara dentro da Cidade Estrutural, como Aglomerado Subnormal ou Favela. \cite{souza2016nao}
A conceituação do Setor de Chácara Santa Luzia, considerado impróprio para moradia, corresponde, também em o não acesso aos direitos básicos como: escola, saúde, educação, cultura, esporte e lazer, saneamento básico, entre outros. Por não haver uma estrutura mínima para habitação os moradores recorrem a ligações de água e energia clandestina e utilizam de cisternas como forma de esgotamento. \cite{souza2016nao}.

\section{Produção de Dados}

\subsection{Bairro Santa Luzia}


Não há dados precisos sobre a comunidade Santa Luzia, por ser em território irregular, não são classificados na amostra por domicílio do PDAD (Pesquisa Distrital por Amostra de Domicílios). Para realizar o processo de mapeamento de residências, foi escolhido residências aleatórias e iniciado a marcação na base de dados do Open Street Map.

\figura{3_12_openstreetmap}{Openstreetmap - Bairro Santa Luzia}{basicmodel}{width=0.75\textwidth}

Para identificação de residências, foi iniciado o processo de atribuição de etiquetas (\textit{tags}) no Open Street Map. De forma consensual, ficou definido que cada residência observada na imagem do GPS conteria 4 membros de uma mesma família e que seria necessário mapear ao menos três blocos de residências.

\figura{3_13_openstreetmap}{Openstreetmap - Identificação de uma residência no Bairro Santa Luzia}{basicmodel}{width=0.75\textwidth}

Foi realizado o mapeamento de 421 unidades residências, totalizando um total de 1.684 moradores para execução da simulação neste espaço territorial do Bairro Santa Luzia.

Foi realizado a exportação para um arquivo do tipo .OSM (Open Street Map) e o software QGIS foi utilizado para leitura dos dados. 



A conexão OSM com o QGIS ocorre com exibição em camadas vetoriais QGIS. Os dados OSM consistem de Nós, Caminhos e Relações. No QGIS, eles são exibidos em três diferentes tipos de camada: camada de ponto, camada de linha e camada de polígono. Não é possível remover qualquer uma dessas camadas e trabalhar com as outras. \cite{OpenStre2:online}

\begin{itemize}
\item Uma Camada de Ponto exibe todas as feições de tipo nó que fica sozinho. Isso significa que apenas nós que não estão incluídos em qualquer Caminho pertence à camada Ponto.
\item Uma Camada de linha exibe as feições OSM de Caminho do tipo que não estão fechados. Isso significa que, nenhum desses Caminhos inicia e termina com o mesmo Nó.
\item Uma Camada de poligono exibe todos os Caminhos que não estão incluídos na camada Linha.
\end{itemize}

Após carregar o arquivo OSM no QGIS, é possível identificar as etiquetas e exportar o arquivo para o formato \textit{shapefile}. O \textit{shapefile} é um formato para bases de dados geoespaciais e vetoriais em sistemas de informação geográfica (no inglês, GIS - \textit{Geographic Information System}). Foi desenvolvido e regulado pela empresa Esri. É considerado um formato aberto, apesar de proprietário. Por ser aberto, o formato recebe suporte de diversos aplicativos de processamento de mapas gratuitos e de código livre. 

\figura{3_14_qgis}{QGIS - Identificação de residências no Bairro Santa Luzia}{basicmodel}{width=0.75\textwidth}

O \textit{shapefile} pode descrever espacialmente qualidades de vetores (pontos, linhas e polígonos, para rios, lagos e poços, por exemplo) e cada item normalmente possui atributos que o descrevem, como nome e temperatura. \cite{41Format2:online}


\section{Configuração do COMOKIT}

A utilização do COMOKIT é realizada em conjunto com o GAMA. Inicialmente, é fornecido um conjunto de dados com modelo padrão não funcional. 
Ao criar um novo modelo para estudo na seção de espaço de trabalho, o COMOKIT requer um conjunto mínimo de dados \cite{ComokitDoc} para realizar simulações.

\subsection{Dados espaciais}

O COMOKIT necessita de um arquivo no formato shapefile para compor as limitações geográficos de um estudo de caso. 

De acordo com Almeida (2015) “Esta característica marcante do GIS deve-se ao modo como seus arquivos nativos (shapefiles) relacionam-se entre si e com demais fontes. Um shapefile consiste basicamente em um arquivo principal (*.shp), um arquivo-índice (*.shx) e uma tabela dBASE (*.dbf), havendo ainda outros arquivos acessórios que também podem estar associados a um mesmo shapefile. O arquivo principal é um arquivo de acesso direto no qual cada um representa um conjunto de dados de uma mesma natureza de forma (ponto, linha ou polígono) com uma lista de seus vértices. O arquivo-índice tem a finalidade de indexar a leitura do arquivo principal, de modo a permitir que o software faça buscas rápidas no conteúdo deste. A tabela dBASE contém todos os atributos literais atribuídos às eições presentes naquele arquivo principal. \cite{almeida2015integraccao}

Para inserção de dados espaciais no COMOKIT, é necessário inserir obrigatoriamente um arquivo com a nomenclatura "\textit{boundary.shp}", indicando que este arquivo contém as limitações de estudo do caso.

Para identificar os locais e edifícios da simulações, inserimos um arquivo com nome "\textit{buildings.shp}". Não obrigatório, o arquivo pode conter ou não uma identificação do tipo de edifíco na tabela de atributos do aquivo \textit{shapefile}. Caso não exista, o COMOKIT fornece um modelo que solicita servidores OSM com relação
a área definida em "\textit{boundary.shp}" e constrói automaticamente o arquivo.

\subsection{Dados demográficos}

O COMOKIT trabalha com a leitura de um arquivo no formato CSV (\textit{Comma Separated Values}) para leitura de informações da população simulada. O arquivo deve conter atributos básicos dos indivíduos como idade, sexo, status de emprego e o identificador de sua residência. Caso o arquivo não esteja presente, a população será gerada com base nas edificações disponíveis.

\figura{3_15_population.png}{Exemplo de um arquivo em CSV}{basicmodel}{width=0.75\textwidth}

\subsection{Parâmetros}

As informações de parâmetros dos submodelos podem ser especificados no código
GAML ou em arquivos de configurações separados.

\subsection{Modificando os parâmetros em Model/Parameters.gaml}

Os parâmetros já definidos estão disponíveis no arquivo chamado "\textit{parameters.gaml}". A vantagem deste método é utilizar os parâmetros já pré-definidos no COMOKIT, mas não há flexibilidade e heterogeneidade na simulação.

A documentação técnica do COMOKIT descreve uma lista de parâmetros disponíveis para ajustes no arquivo "Parameters.gaml" \cite{ParametrosCOMOKIT:online}.

\subsubsection{DINÂMICA DE CONTAMINAÇÃO AMBIENTAL}

\begin{itemize}
\item \textit{allow\_transmission\_building}: permite a dinâmica de contaminação ambiental, definida por padrão para \textit{true};
\item \textit{basic\_viral\_decrease}: diminuição ao longo do tempo da carga viral no ambiente, definida por padrão para o valor de 0.33.
\item {basic\_viral\_release}: liberação ao longo do tempo da carga viral no ambiente por um Indivíduo infectado, definido por padrão para o valor de 3.0.
\item {successfu\_contact\_rate\_building}: taxa de contato bem-sucedida para transmissão do ambiente para o homem derivado do R0 e o período infeccioso médio, definido por padrão para \ 2.5 * 1/(14.69973*{nb\_step\_for\_one\_day})\ .
\end{itemize}

\subsubsection{DINÂMICA DE TRANSMISSÃO DE HUMANO PARA HUMANO}

\begin{itemize}
\item {allow\_transmission\_human}: permite a dinâmica de transmissão de humano para humano, definida por padrão para true.
\item {init\_all\_ages\_factor\_contact\_rate\_asymptomatic}: fator não dependente da idade da taxa de contato bem-sucedida para transmissão assintomática/pré-sintomática de humano para humano, definido por padrão para o valor 0.55.
\item {init\_all\_ages\_proportion\_asymptomatic}: proporção não dependente da idade de indivíduos assintomáticos, definida por padrão para o valor 0.3.
\item {init\_all\_ages\_successful\_contact\_rate\_human}: taxa de contato bem-sucedida não dependente da idade para transmissão de humano para humano derivada do R0 e o período infeccioso médio, definido por padrão para \ 2.5 * 1/(14.69973), - {reduction\_coeff\_all\_buildings\_individuals}, a redução da taxa de contato para indivíduos pertencentes a diferentes famílias, mas que vivem no mesmo prédio , definido por padrão para o valor 0.05.
\item {reduction\_coeff\_all\_buildings\_inhabitants}: a redução da taxa de contacto para os indivíduos pertencentes a agregados familiares diferentes mas a residir no mesmo edifício, definido por defeito para o valor 0.01.
\item {init\_all\_ages\_distribution\_type\_incubation\_period\_symptomatic}: a distribuição não dependente da idade para o período de incubação de indivíduos sintomáticos, definida por padrão para Lognormal.
\item {init\_all\_ages\_parameter\_1\_incubation\_period\_symptomatic}: o primeiro parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos sintomáticos, definido por padrão para o valor 1.57.
\item {init\_all\_ages\_parameter\_2\_incubation\_period\_symptomatic}:  o segundo parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos sintomáticos, definido por padrão para o valor 0.65.
\item {init\_all\_ages\_distribution\_type\_incubation\_period\_asymptomatic}:  distribuição não dependente da idade para o período de incubação de Indivíduos assintomáticos, definida por padrão para Lognormal.
\item {init\_all\_ages\_parameter\_1\_incubation\_period\_asymptomatic}:  primeiro parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos assintomáticos, definido por padrão para o valor 1.57.
\item {init\_all\_ages\_parameter\_2\_incubation\_period\_asymptomatic}: o segundo parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos assintomáticos, definido por padrão para valor 0.65.
\item {init\_all\_ages\_distribution\_type\_serial\_interval}: a distribuição não dependente da idade para o intervalo serial, definida por padrão como Normal.
\item {init\_all\_ages\_parameter\_1\_serial\_interval}: o primeiro parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos assintomáticos, definido por padrão para o valor 3.96.
\item {init\_all\_ages\_parameter\_2\_serial\_interval}: o segundo parâmetro para a distribuição não dependente da idade para o período de incubação de indivíduos assintomáticos, definido por padrão para o valor 3.75.
\item {init\_all\_ages\_distribution\_type\_infectious\_period\_symptomatic}: a distribuição não dependente da idade para o período infeccioso de indivíduos sintomáticos, definida por padrão para Lognormal.
\item {init\_all\_ages\_parameter\_1\_infectious\_period\_symptomatic}: o primeiro parâmetro para a distribuição não dependente da idade para o período infeccioso de indivíduos sintomáticos, definido por padrão para o valor 3.034953.
\item {init\_all\_ages\_parameter\_2\_infectious\_period\_symptomatic}: o segundo parâmetro para a distribuição não dependente da idade para o período infeccioso de indivíduos sintomáticos, definido por padrão para o valor 0.34.
\item {init\_all\_ages\_distribution\_type\_infectious\_period\_asymptomatic}: a distribuição não dependente da idade para o período infeccioso de Indivíduos assintomáticos, definida por padrão para Lognormal.
\item {init\_all\_ages\_parameter\_1\_infectious\_period\_asymptomatic}: o primeiro parâmetro para a distribuição não dependente da idade para o período infeccioso de indivíduos assintomáticos, definido por padrão para o valor 3.034953.
\item {init\_all\_ages\_parameter\_2\_infectious\_period\_asymptomatic}: o segundo parâmetro para a distribuição não dependente da idade para o período infeccioso de indivíduos assintomáticos, definido por padrão para 0.34
\end{itemize}

\subsubsection{HOSPITALIZAÇÃO E GRAVIDADE}

\begin{itemize}
\item {init\_all\_ages\_proportion\_hospitalisation}: proporção não dependente da idade de indivíduos sintomáticos que precisarão de hospitalização, definida por padrão para 0.2
\end{itemize}

\begin{itemize}
\item {init\_all\_ages\_distribution\_type\_onset\_to\_hospitalisation}: distribuição não dependente da idade do tempo entre o início dos sintomas e a admissão hospitalar para indivíduos sintomáticos, definida por padrão para Lognormal
\item {init\_all\_ages\_parameter\_1\_onset\_to\_hospitalisation}: primeiro parâmetro da distribuição não dependente da idade do tempo entre o início dos sintomas e a admissão hospitalar para indivíduos sintomáticos, definido por padrão para 3.034953
\item {init\_all\_ages\_parameter\_2\_onset\_to\_hospitalisation}: segundo parâmetro da distribuição não dependente da idade do tempo entre o início dos sintomas e a admissão hospitalar para indivíduos sintomáticos, definido por padrão para 0.34
\item {init\_all\_ages\_proportion\_icu}: proporção não dependente da idade de Indivíduos hospitalizados que precisarão ir para UTI, definida por padrão para 0.1
\item {init\_all\_ages\_distribution\_type\_hospitalisation\_to\_ICU}: distribuição não dependente da idade do tempo entre a hospitalização e a admissão na UTI para Indivíduos hospitalizados, definida por padrão para Lognormal
\item {init\_all\_ages\_parameter\_1\_hospitalisation\_to\_ICU}: primeiro parâmetro da distribuição não dependente da idade do tempo entre a internação e a admissão na UTI para Indivíduos hospitalizados, definido por padrão para 3.034953
\item {init\_all\_ages\_parameter\_2\_hospitalisation\_to\_ICU}: segundo parâmetro da distribuição não dependente da idade do tempo entre a internação e a admissão na UTI para Indivíduos hospitalizados, definido por padrão para 0.34
\item {init\_all\_ages\_distribution\_type\_stay\_ICU}: distribuição não dependente da idade da duração da permanência na UTI para Indivíduos, definida por padrão para Lognormal
\item {init\_all\_ages\_parameter\_1\_stay\_ICU}: primeiro parâmetro da distribuição não dependente da idade do tempo de permanência na UTI para Indivíduos, definido por padrão para 3.034953
\item {init\_all\_ages\_parameter\_2\_stay\_ICU}: egundo parâmetro da distribuição não dependente da idade do tempo de permanência na UTI para Indivíduos, definido por padrão para 0.34
\item {init\_all\_ages\_proportion\_dead\_symptomatic}: proporção não dependente da idade de indivíduos sintomáticos que morrerão mesmo se tratados, definida por padrão para 0.01
\end{itemize}

\subsubsection{TESTE E USO DE MÁSCARA}

\begin{itemize}
\item {init\_all\_ages\_probability\_true\_negative}: probabilidade não dependente da idade de ser testado positivo quando infectado, definido por padrão para 0.92
\item {init\_all\_ages\_probability\_true\_positive}: probabilidade não dependente da idade de ser testado positivo quando infectado, definido por padrão para 0.89
\item {init\_all\_ages\_proportion\_wearing\_mask}: proporção não dependente da idade de Indivíduos que usam máscara, definida por padrão como 0.0
\item {init\_all\_ages\_factor\_contact\_rate\_wearing\_mask}: fator não dependente da idade de transmissão bem-sucedida para um indivíduo infeccioso usando uma máscara, definido por padrão para 0.5
\end{itemize}

\subsection{Modificando os parâmetros no arquivo CSV}

De acordo com a documentação técnica do COMOKIT \cite{ComokitDoc}, é possível inserir um arquivo CSV para definir múltiplos valores para um mesmo parâmetro, levando em consideração a idade dos indivíduos. Ainda é possível fornecer não somente um valor fixo, mas também uma distribuição Weibull, Gamma, Uniforme, Normal e Lognormal para gerar valores diferentes para cada indivíduo.

\subsection{Geração de população sintética}

Na descrição ODD do COMOKIT \cite{ComokitDoc}, é informado duas maneiras de gerar uma população sintética de agentes: a partir de um arquivo CSV, onde cada linha corresponde a um agente ou usando o gerador embutido do COMOKIT.

\subsubsection{Parametrização do gerador integrado}

A documentação do COMOKIT \cite{ComokitDoc} descreve que o gerador padrão do COMOKIT faz uso de um arquivo de configuração para definir as variáveis-chave do algoritmo. Para definir de acordo com o estudo de caso, é necessário criar um arquivo CSV e nomeá-lo para \textit{Population parameter.csv}. A primeira coluna deve corresponder ao nome do parâmetro e uma segunda coluna o valor do parâmetro.

A documentação descreve os parâmetros que podem ser definidos e os valores padrão quando omitidos:

\begin{itemize}
\item \textit{male\_ratio}: probabilidade de ser um homem ( 1 - male\_ratio dá a probabilidade de ser uma mulher). O padrão é 21/41.
\item \textit{proba\_active\_family}: a probabilidade de criar um agregado familiar de duas ou mais pessoas ( 1 - proba\_active\_family sendo a probabilidade de criar um agregado familiar individual). O padrão é 0.95.
\item \textit{number\_children\_mean}: o número médio (valor esperado) de crianças por família. O padrão é 2.0.
\item \textit{number\_children\_std}: o desvio padrão (variância) para determinar o número de crianças por domicílio. O padrão é 0.5.
\item \textit{number\_children\_max}: o número máximo de crianças por família. O padrão é 3.
\item \textit{proba\_grandfather}: a probabilidade de incluir o avô na família. O padrão é 0.2.
\item \textit{proba\_grandmother}: a probabilidade de incluir a avó no agregado familiar. O padrão é 0.3.
\item \textit{retirement\_age}: o limite de idade para a aposentadoria. O padrão é 55.
\item \textit{max\_age}: a idade máxima que um agente pode ter na inicialização. O padrão é 100.
\item \textit{nb\_friends\_mean}: o número médio (valor esperado de um gaussiano) de amigos por agente individual. O padrão é 5.0.
\item \textit{nb\_friends\_std}: o desvio padrão (variância de uma Gaussiana) para determinar o número de amigos por indivíduo. O padrão é 3.0.
\item \textit{nb\_classmates\_mean}: número médio de colegas de classe com os quais um Indivíduo terá contato próximo. O padrão é 10.0.
\item \textit{nb\_classmates\_std}: desvio de suporte do número de colegas com os quais um Indivíduo terá contato próximo. O padrão é 5.0.
\item \textit{nb\_work\_colleagues\_meannúmero} médio de colegas de trabalho com os quais um Indivíduo terá contato próximo. O padrão é 5.0.
\item \textit{nb\_work\_colleagues\_std}: desvio de estande do número de colegas de trabalho com os quais um Indivíduo terá contato próximo. O padrão é 3.0.
\item \textit{proba\_work\_at\_home}: a probabilidade de fazer trabalho remoto. O padrão é 0.05.
\item \textit{proba\_unemployed\_M}: a probabilidade de um agente individual masculino estar desempregado. O padrão é 0.03.
\item \textit{proba\_unemployed\_F}: a probabilidade de um agente individual feminino estar desempregado. O padrão é 0.03.
\end{itemize}

\section{Dificuldades com a construção}

Alguns desafios foram superados, como mapear regiões utilizando o processo de atribuição de etiquetas, conhecido como tags no Open Street Map e lidar com a pandemia que estava atingindo números recordes no desenvolvimento do trabalho. A modelagem também foi um desafio, visto que existem diferentes variáveis para a proximidade do mundo real.

\subsection{Mapeamento do Bairro Santa Luzia}

A proposta de mapear as residências no bairro Santa Luzia utilizando o software Open Street Map surgiu pois no momento não havia dados compartilhados para execução de uma simulação no local. Não foi possível trabalhar com dados fornecidos pela Coraci, representante da parte social/civil e que está em contato direto com a Fiocruz \cite{silva2020estudo}.

A execução manual de identificação de residências e a utilização de dados aleatórios poderia não dar resultados satisfatórios para simulação. Apesar dos esforços e utilização de técnicas que aumentam o valor de confiança dos dados, utilizamos os dados provenientes do Centro de Estudos Ambientais – Condomínio RK.
